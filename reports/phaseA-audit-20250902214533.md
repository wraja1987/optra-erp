# Nexa ERP â€” Phase A Audit
_Run: 20250902214533_


## Prisma format

Prisma schema loaded from prisma/schema.prisma
Formatted prisma/schema.prisma in 12ms ðŸš€
âœ… Prisma format

## Prisma migrate dev

Prisma schema loaded from prisma/schema.prisma
Datasource "db": PostgreSQL database "optra", schema "public" at "localhost:5432"

Already in sync, no schema change or pending migration was found.

Running generate... (Use --skip-generate to skip the generators)
[2K[1A[2K[GRunning generate... - Prisma Client
[2K[1A[2K[Gâœ” Generated Prisma Client (v6.14.0) to 
./node_modules/.pnpm/@prisma+client@6.14.0_prisma@6.14.0_magicast@0.3.5_typescri
pt@5.9.2__typescript@5.9.2/node_modules/@prisma/client in 61ms


âœ… Prisma migrate dev

## Prisma validate

Prisma schema loaded from prisma/schema.prisma
The schema at prisma/schema.prisma is valid ðŸš€
âœ… Prisma validate

## OpenAPI generate


> nexa-erp@ openapi:generate /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP
> node scripts/docs/publish-openapi.js

Wrote /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP/apps/web/public/openapi.json
âœ… OpenAPI generate

## Seed Phase A


> nexa-erp@ seed:phaseA /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP
> tsx scripts/seeds/seed-phaseA.ts

seed:phaseA done
âœ… Seed Phase A

## Jobs one-pass


> nexa-erp@ jobs:run:once /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP
> pnpm -C packages/jobs build && pnpm -C packages/jobs run:once


> @nexa/jobs@0.1.0 build /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP/packages/jobs
> tsc -p tsconfig.json


> @nexa/jobs@0.1.0 run:once /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP/packages/jobs
> node dist/index.js

âœ… Jobs one-pass

## Web build check


> web@0.1.0 build /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP/apps/web
> next build

   â–² Next.js 15.4.6
   - Environments: .env.local

   Creating an optimized production build ...
 âœ“ Compiled successfully in 2000ms
   Linting and checking validity of types ...

./src/app/(app)/settings/connectors/page.tsx
16:10  Warning: 'tick' is assigned a value but never used.  @typescript-eslint/no-unused-vars

./src/app/api/integrations/health/route.test.ts
2:33  Warning: 'ConnectorKey' is defined but never used.  @typescript-eslint/no-unused-vars

info  - Need to disable some ESLint rules? Learn more here: https://nextjs.org/docs/app/api-reference/config/eslint#disabling-rules
   Collecting page data ...
   Generating static pages (0/74) ...
   Generating static pages (18/74) 
   Generating static pages (36/74) 
   Generating static pages (55/74) 
 âœ“ Generating static pages (74/74)
   Finalizing page optimization ...
   Collecting build traces ...

Route (app)                                   Size  First Load JS
â”Œ â—‹ /                                        168 B         106 kB
â”œ â—‹ /_not-found                              991 B         101 kB
â”œ â—‹ /ai/audit-logs                           263 B         101 kB
â”œ Æ’ /ai/runs                                 263 B         101 kB
â”œ â—‹ /ai/workflows                            263 B         101 kB
â”œ â—‹ /ai/workflows/start                      263 B         101 kB
â”œ Æ’ /api/assistant                           263 B         101 kB
â”œ Æ’ /api/enterprise/demo                     263 B         101 kB
â”œ Æ’ /api/entities                            263 B         101 kB
â”œ Æ’ /api/healthz                             263 B         101 kB
â”œ Æ’ /api/integrations/amazon/status          263 B         101 kB
â”œ Æ’ /api/integrations/ebay/status            263 B         101 kB
â”œ Æ’ /api/integrations/edi/status             263 B         101 kB
â”œ Æ’ /api/integrations/health                 263 B         101 kB
â”œ Æ’ /api/integrations/hmrc-rti/status        263 B         101 kB
â”œ Æ’ /api/integrations/open-banking/status    263 B         101 kB
â”œ Æ’ /api/integrations/shopify/status         263 B         101 kB
â”œ Æ’ /api/orchestration/queue                 263 B         101 kB
â”œ Æ’ /api/orchestration/runs                  263 B         101 kB
â”œ Æ’ /api/orchestration/start                 263 B         101 kB
â”œ Æ’ /api/readyz                              263 B         101 kB
â”œ â—‹ /billing                                 894 B         101 kB
â”œ â—‹ /billing/invoices                        263 B         101 kB
â”œ â—‹ /billing/plans                           263 B         101 kB
â”œ â—‹ /billing/subscriptions                   263 B         101 kB
â”œ â—‹ /crm/integrations                        828 B         101 kB
â”œ â—‹ /dashboard                               263 B         101 kB
â”œ â—‹ /dev/api-keys                            263 B         101 kB
â”œ â—‹ /dev/openapi                             263 B         101 kB
â”œ â—‹ /dev/webhooks                            263 B         101 kB
â”œ Æ’ /enterprise/consolidation                263 B         101 kB
â”œ â—‹ /enterprise/entities                     263 B         101 kB
â”œ Æ’ /enterprise/intercompany                 263 B         101 kB
â”œ â—‹ /forgot-password                         263 B         101 kB
â”œ â—‹ /help                                    263 B         101 kB
â”œ â—‹ /industry/construction                   263 B         101 kB
â”œ â—‹ /industry/logistics                      263 B         101 kB
â”œ â—‹ /industry/manufacturing                  263 B         101 kB
â”œ â—‹ /industry/professional-services          263 B         101 kB
â”œ â—‹ /industry/retail                         263 B         101 kB
â”œ â—‹ /industry/saas-tech                      263 B         101 kB
â”œ â—‹ /integrations/amazon                     263 B         101 kB
â”œ â—‹ /integrations/ebay                       263 B         101 kB
â”œ â—‹ /integrations/edi                        263 B         101 kB
â”œ â—‹ /integrations/health                     263 B         101 kB
â”œ â—‹ /integrations/hmrc-rti                   263 B         101 kB
â”œ â—‹ /integrations/open-banking               263 B         101 kB
â”œ â—‹ /integrations/shopify                    263 B         101 kB
â”œ â—‹ /integrations/toggles                    263 B         101 kB
â”œ â—‹ /login                                   263 B         101 kB
â”œ â—‹ /manufacturing/advanced                  538 B         101 kB
â”œ â—‹ /manufacturing/aps                       663 B         101 kB
â”œ â—‹ /manufacturing/capacity                  674 B         101 kB
â”œ â—‹ /manufacturing/mrp                       656 B         101 kB
â”œ â—‹ /marketplace                             734 B         101 kB
â”œ â—‹ /monitoring/backups                      263 B         101 kB
â”œ â—‹ /monitoring/health                       263 B         101 kB
â”œ â—‹ /monitoring/status                       263 B         101 kB
â”œ â—‹ /open-banking                          1.26 kB         102 kB
â”œ â—‹ /payroll                               1.29 kB         102 kB
â”œ â—‹ /purchase-orders                         263 B         101 kB
â”œ â—‹ /settings/connectors                   1.18 kB         102 kB
â”œ Æ’ /settings/entities                       263 B         101 kB
â”œ â—‹ /settings/security                       263 B         101 kB
â”œ â—‹ /settings/tenants                        263 B         101 kB
â”œ â—‹ /tax/mtd-vat                           1.21 kB         102 kB
â”œ â—‹ /themetest                               263 B         101 kB
â”œ â—‹ /wms/3pl-connectors                      713 B         101 kB
â”œ â—‹ /wms/advanced                            644 B         101 kB
â”œ â—‹ /wms/asn                                 874 B         101 kB
â”” â—‹ /wms/wave-picking                        694 B         101 kB
+ First Load JS shared by all               100 kB
  â”œ chunks/2130-9d976df40f3c872c.js        44.3 kB
  â”œ chunks/c88410e9-e1bf17c57a5f2cc2.js    54.1 kB
  â”” other shared chunks (total)             1.9 kB

Route (pages)                                 Size  First Load JS
â”Œ Æ’ /api/ai/audit/logs                         0 B        93.2 kB
â”œ Æ’ /api/auth/callback/azure-ad                0 B        93.2 kB
â”œ Æ’ /api/auth/callback/google                  0 B        93.2 kB
â”œ Æ’ /api/hmrc/vat/ping                         0 B        93.2 kB
â”œ Æ’ /api/stripe/webhook                        0 B        93.2 kB
â”” Æ’ /api/twilio/ping                           0 B        93.2 kB
+ First Load JS shared by all              93.2 kB
  â”œ chunks/framework-f00839ac3c0c5cb5.js   57.6 kB
  â”œ chunks/main-db19f5b612743c21.js        33.8 kB
  â”” other shared chunks (total)            1.87 kB

â—‹  (Static)   prerendered as static content
Æ’  (Dynamic)  server-rendered on demand

âœ… Web build check

## Lint


> nexa-erp@ lint /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP
> eslint . --ext .js,.ts,.tsx --max-warnings=0

âœ… Lint

## Typecheck


> nexa-erp@ typecheck /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP
> tsc -p tsconfig.base.json --noEmit

âœ… Typecheck

## Unit tests


> nexa-erp@ test /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP
> vitest run --reporter=dot "--run"


 RUN  v3.2.4 /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP

Â·stdout | apps/web/src/app/api/enterprise/demo/route.test.ts > enterprise demo route > returns counts from demo file
[assistant_audit] {
  route: [32m'/api/enterprise/demo'[39m,
  session: [32m'demo'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/orchestration/queue/route.test.ts > orchestration queue API > returns queued count
[assistant_audit] { route: [32m'/api/orchestration/queue'[39m, queued: [33m1[39m, hasMasked: [33mtrue[39m }

Â·Â·stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > masks sensitive fields and responds ok
[assistant_audit] {
  ip: [32m'loca****'[39m,
  session: [32m'loca****'[39m,
  route: [32m'/dashboard'[39m,
  hasMasked: [33mtrue[39m
}

Â·stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/entities/route.test.ts > entities API > lists entities
[assistant_audit] {
  route: [32m'/api/entities'[39m,
  action: [32m'list'[39m,
  session: [32m'enti****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/entities/route.test.ts > entities API > creates an entity with valid payload
[assistant_audit] {
  route: [32m'/api/entities'[39m,
  action: [32m'create'[39m,
  session: [32m'enti****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > enforces token budget per session
[assistant_audit] { ip: [32m'1.xxx.xxx.xxx'[39m, session: [32m's1'[39m, route: [32m'/x'[39m, hasMasked: [33mtrue[39m }

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > enforces token budget per session
[assistant_audit] { ip: [32m'1.xxx.xxx.xxx'[39m, session: [32m's1'[39m, route: [32m'/x'[39m, hasMasked: [33mtrue[39m }

Â·Â·Â·Â·Â·Â·Â·stdout | apps/web/src/app/api/integrations/health/route.test.ts > integrations health DTO > honors enable flags env
[assistant_audit] {
  route: [32m'/api/integrations/health'[39m,
  session: [32m'heal****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/orchestration/start/route.test.ts > orchestration start DTO > enqueues on POST and returns orchestration id
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'sess****-1'[39m,
  route: [32m'/api/orchestration/start'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·stdout | apps/web/src/app/api/orchestration/start/route.test.ts > orchestration start DTO > rejects invalid payload with 400
[assistant_audit] {
  ip: [32m'loca****'[39m,
  session: [32m'loca****'[39m,
  route: [32m'/api/orchestration/start'[39m,
  validation: [32m'fail'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·Â·Â·Â·Â·Â·Â·stdout | apps/web/src/app/api/orchestration/runs/route.test.ts > orchestration runs API > lists queued runs
[assistant_audit] {
  route: [32m'/api/orchestration/runs'[39m,
  count: [33m1[39m,
  total: [33m1[39m,
  status: [32m'all'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/orchestration/runs/route.test.ts > orchestration runs API > completes a run via POST
[assistant_audit] {
  route: [32m'/api/orchestration/runs'[39m,
  action: [32m'complete'[39m,
  id: [32m'orc_n1zccx1a6c'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/orchestration/runs/route.test.ts > orchestration runs API > completes a run via POST
[assistant_audit] {
  route: [32m'/api/orchestration/runs'[39m,
  count: [33m1[39m,
  total: [33m1[39m,
  status: [32m'completed'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·Â·Â·stdout | apps/web/src/app/api/integrations/amazon/status/route.test.ts > amazon status > responds 200 with JSON
[assistant_audit] {
  route: [32m'/api/integrations/amazon/status'[39m,
  session: [32m'heal****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·stdout | apps/web/src/app/api/integrations/ebay/status/route.test.ts > ebay status > responds 200 with JSON
[assistant_audit] {
  route: [32m'/api/integrations/ebay/status'[39m,
  session: [32m'heal****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·stdout | apps/web/src/app/api/integrations/edi/status/route.test.ts > edi status > responds 200 with JSON
[assistant_audit] {
  route: [32m'/api/integrations/edi/status'[39m,
  session: [32m'heal****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·stdout | apps/web/src/app/api/integrations/shopify/status/route.test.ts > shopify status > responds 200 with JSON
[assistant_audit] {
  route: [32m'/api/integrations/shopify/status'[39m,
  session: [32m'heal****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·stdout | apps/web/src/app/api/integrations/open-banking/status/route.test.ts > open-banking status > responds 200 with JSON
[assistant_audit] {
  route: [32m'/api/integrations/open-banking/status'[39m,
  session: [32m'heal****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·stdout | apps/web/src/__tests__/connectors.mock.test.ts > mockConnectorService > connects and disconnects
[assistant_audit] {
  route: [32m'/settings/connectors'[39m,
  action: [32m'connect'[39m,
  key: [32m'google'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/__tests__/connectors.mock.test.ts > mockConnectorService > connects and disconnects
[assistant_audit] {
  route: [32m'/settings/connectors'[39m,
  action: [32m'disconnect'[39m,
  key: [32m'google'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·stdout | apps/web/src/app/api/integrations/hmrc-rti/status/route.test.ts > hmrc-rti status > responds 200 with JSON
[assistant_audit] {
  route: [32m'/api/integrations/hmrc-rti/status'[39m,
  session: [32m'heal****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·

 Test Files  26 passed (26)
      Tests  63 passed (63)
   Start at  21:45:55
   Duration  1.25s (transform 363ms, setup 0ms, collect 1.64s, tests 131ms, environment 3ms, prepare 2.64s)

âœ… Unit tests

## Accessibility (light)


> nexa-erp@ ui:a11y /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP
> bash scripts/ui/a11y.sh light

A11Y scan starting (theme=light, base=http://127.0.0.1:3000)
No server on http://127.0.0.1:3000 â€” building and starting ephemeral Next serverâ€¦
Running axe-core 4.10.3 (chrome-headless) => http://127.0.0.1:3000/
[1mRunning axe-core 4.10.3 in chrome-headless[22m
[1m[22m
[1mTesting [4m[34mhttp://127.0.0.1:3000/[39m[24m[22m ... please wait, this may take a minute.
Waiting for 500 milliseconds after page loads...

[31m[1m  Violation of "region" with 1 occurrences![22m[39m
[31m[1m[22m[39m    Ensure all page content is contained by landmarks. Correct invalid elements at:
     - div:nth-child(2)
    For details, see: [4m[34mhttps://dequeuniversity.com/rules/axe/4.10/region[39m[24m
[31m[1m[22m[39m
[31m[1m1 Accessibility issues detected.[22m[39m
[1mTesting complete of 1 pages[22m
[1m[22m
[3mPlease note that only 20% to 50% of all accessibility issues can automatically be detected. [23m
[3mManual testing is always required. For more information see:[23m
[3m[4m[34mhttps://dequeuniversity.com/class/testing[39m[24m[23m
[3m[23m
AXE OK http://127.0.0.1:3000/
Running axe-core 4.10.3 (chrome-headless) => http://127.0.0.1:3000/login
[1mRunning axe-core 4.10.3 in chrome-headless[22m
[1m[22m
[1mTesting [4m[34mhttp://127.0.0.1:3000/login[39m[24m[22m ... please wait, this may take a minute.
Waiting for 500 milliseconds after page loads...

[31m[1m  Violation of "region" with 2 occurrences![22m[39m
[31m[1m[22m[39m    Ensure all page content is contained by landmarks. Correct invalid elements at:
     - div:nth-child(2)
     - div:nth-child(3) > div
    For details, see: [4m[34mhttps://dequeuniversity.com/rules/axe/4.10/region[39m[24m
[31m[1m[22m[39m
[31m[1m2 Accessibility issues detected.[22m[39m
[1mTesting complete of 1 pages[22m
[1m[22m
[3mPlease note that only 20% to 50% of all accessibility issues can automatically be detected. [23m
[3mManual testing is always required. For more information see:[23m
[3m[4m[34mhttps://dequeuniversity.com/class/testing[39m[24m[23m
[3m[23m
AXE OK http://127.0.0.1:3000/login
Running axe-core 4.10.3 (chrome-headless) => http://127.0.0.1:3000/dashboard
[1mRunning axe-core 4.10.3 in chrome-headless[22m
[1m[22m
[1mTesting [4m[34mhttp://127.0.0.1:3000/dashboard[39m[24m[22m ... please wait, this may take a minute.
Waiting for 500 milliseconds after page loads...

[31m[1m  Violation of "region" with 1 occurrences![22m[39m
[31m[1m[22m[39m    Ensure all page content is contained by landmarks. Correct invalid elements at:
     - body > div:nth-child(2)
    For details, see: [4m[34mhttps://dequeuniversity.com/rules/axe/4.10/region[39m[24m
[31m[1m[22m[39m
[31m[1m1 Accessibility issues detected.[22m[39m
[1mTesting complete of 1 pages[22m
[1m[22m
[3mPlease note that only 20% to 50% of all accessibility issues can automatically be detected. [23m
[3mManual testing is always required. For more information see:[23m
[3m[4m[34mhttps://dequeuniversity.com/class/testing[39m[24m[23m
[3m[23m
AXE OK http://127.0.0.1:3000/dashboard
Running axe-core 4.10.3 (chrome-headless) => http://127.0.0.1:3000/help
[1mRunning axe-core 4.10.3 in chrome-headless[22m
[1m[22m
[1mTesting [4m[34mhttp://127.0.0.1:3000/help[39m[24m[22m ... please wait, this may take a minute.
Waiting for 500 milliseconds after page loads...

[31m[1m  Violation of "region" with 1 occurrences![22m[39m
[31m[1m[22m[39m    Ensure all page content is contained by landmarks. Correct invalid elements at:
     - body > div:nth-child(2)
    For details, see: [4m[34mhttps://dequeuniversity.com/rules/axe/4.10/region[39m[24m
[31m[1m[22m[39m
[31m[1m1 Accessibility issues detected.[22m[39m
[1mTesting complete of 1 pages[22m
[1m[22m
[3mPlease note that only 20% to 50% of all accessibility issues can automatically be detected. [23m
[3mManual testing is always required. For more information see:[23m
[3m[4m[34mhttps://dequeuniversity.com/class/testing[39m[24m[23m
[3m[23m
AXE OK http://127.0.0.1:3000/help
Running axe-core 4.10.3 (chrome-headless) => http://127.0.0.1:3000/settings/tenants
[1mRunning axe-core 4.10.3 in chrome-headless[22m
[1m[22m
[1mTesting [4m[34mhttp://127.0.0.1:3000/settings/tenants[39m[24m[22m ... please wait, this may take a minute.
Waiting for 500 milliseconds after page loads...

[31m[1m  Violation of "region" with 1 occurrences![22m[39m
[31m[1m[22m[39m    Ensure all page content is contained by landmarks. Correct invalid elements at:
     - body > div:nth-child(2)
    For details, see: [4m[34mhttps://dequeuniversity.com/rules/axe/4.10/region[39m[24m
[31m[1m[22m[39m
[31m[1m1 Accessibility issues detected.[22m[39m
[1mTesting complete of 1 pages[22m
[1m[22m
[3mPlease note that only 20% to 50% of all accessibility issues can automatically be detected. [23m
[3mManual testing is always required. For more information see:[23m
[3m[4m[34mhttps://dequeuniversity.com/class/testing[39m[24m[23m
[3m[23m
AXE OK http://127.0.0.1:3000/settings/tenants
âœ… a11y OK
Stopping ephemeral server (pid=30505)
âœ… Accessibility (light)

## Accessibility (dark)


> nexa-erp@ ui:a11y:dark /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP
> bash scripts/ui/a11y.sh dark

A11Y scan starting (theme=dark, base=http://127.0.0.1:3000)
No server on http://127.0.0.1:3000 â€” building and starting ephemeral Next serverâ€¦
Running axe-core 4.10.3 (chrome-headless) => http://127.0.0.1:3000/?theme=dark
[1mRunning axe-core 4.10.3 in chrome-headless[22m
[1m[22m
[1mTesting [4m[34mhttp://127.0.0.1:3000/?theme=dark[39m[24m[22m ... please wait, this may take a minute.
Waiting for 500 milliseconds after page loads...

[31m[1m  Violation of "region" with 1 occurrences![22m[39m
[31m[1m[22m[39m    Ensure all page content is contained by landmarks. Correct invalid elements at:
     - div:nth-child(2)
    For details, see: [4m[34mhttps://dequeuniversity.com/rules/axe/4.10/region[39m[24m
[31m[1m[22m[39m
[31m[1m1 Accessibility issues detected.[22m[39m
[1mTesting complete of 1 pages[22m
[1m[22m
[3mPlease note that only 20% to 50% of all accessibility issues can automatically be detected. [23m
[3mManual testing is always required. For more information see:[23m
[3m[4m[34mhttps://dequeuniversity.com/class/testing[39m[24m[23m
[3m[23m
AXE OK http://127.0.0.1:3000/?theme=dark
Running axe-core 4.10.3 (chrome-headless) => http://127.0.0.1:3000/login?theme=dark
[1mRunning axe-core 4.10.3 in chrome-headless[22m
[1m[22m
[1mTesting [4m[34mhttp://127.0.0.1:3000/login?theme=dark[39m[24m[22m ... please wait, this may take a minute.
Waiting for 500 milliseconds after page loads...

[31m[1m  Violation of "region" with 2 occurrences![22m[39m
[31m[1m[22m[39m    Ensure all page content is contained by landmarks. Correct invalid elements at:
     - div:nth-child(2)
     - div:nth-child(3) > div
    For details, see: [4m[34mhttps://dequeuniversity.com/rules/axe/4.10/region[39m[24m
[31m[1m[22m[39m
[31m[1m2 Accessibility issues detected.[22m[39m
[1mTesting complete of 1 pages[22m
[1m[22m
[3mPlease note that only 20% to 50% of all accessibility issues can automatically be detected. [23m
[3mManual testing is always required. For more information see:[23m
[3m[4m[34mhttps://dequeuniversity.com/class/testing[39m[24m[23m
[3m[23m
AXE OK http://127.0.0.1:3000/login?theme=dark
Running axe-core 4.10.3 (chrome-headless) => http://127.0.0.1:3000/dashboard?theme=dark
[1mRunning axe-core 4.10.3 in chrome-headless[22m
[1m[22m
[1mTesting [4m[34mhttp://127.0.0.1:3000/dashboard?theme=dark[39m[24m[22m ... please wait, this may take a minute.
Waiting for 500 milliseconds after page loads...

[31m[1m  Violation of "region" with 1 occurrences![22m[39m
[31m[1m[22m[39m    Ensure all page content is contained by landmarks. Correct invalid elements at:
     - body > div:nth-child(2)
    For details, see: [4m[34mhttps://dequeuniversity.com/rules/axe/4.10/region[39m[24m
[31m[1m[22m[39m
[31m[1m1 Accessibility issues detected.[22m[39m
[1mTesting complete of 1 pages[22m
[1m[22m
[3mPlease note that only 20% to 50% of all accessibility issues can automatically be detected. [23m
[3mManual testing is always required. For more information see:[23m
[3m[4m[34mhttps://dequeuniversity.com/class/testing[39m[24m[23m
[3m[23m
AXE OK http://127.0.0.1:3000/dashboard?theme=dark
Running axe-core 4.10.3 (chrome-headless) => http://127.0.0.1:3000/help?theme=dark
[1mRunning axe-core 4.10.3 in chrome-headless[22m
[1m[22m
[1mTesting [4m[34mhttp://127.0.0.1:3000/help?theme=dark[39m[24m[22m ... please wait, this may take a minute.
Waiting for 500 milliseconds after page loads...

[31m[1m  Violation of "region" with 1 occurrences![22m[39m
[31m[1m[22m[39m    Ensure all page content is contained by landmarks. Correct invalid elements at:
     - body > div:nth-child(2)
    For details, see: [4m[34mhttps://dequeuniversity.com/rules/axe/4.10/region[39m[24m
[31m[1m[22m[39m
[31m[1m1 Accessibility issues detected.[22m[39m
[1mTesting complete of 1 pages[22m
[1m[22m
[3mPlease note that only 20% to 50% of all accessibility issues can automatically be detected. [23m
[3mManual testing is always required. For more information see:[23m
[3m[4m[34mhttps://dequeuniversity.com/class/testing[39m[24m[23m
[3m[23m
AXE OK http://127.0.0.1:3000/help?theme=dark
Running axe-core 4.10.3 (chrome-headless) => http://127.0.0.1:3000/settings/tenants?theme=dark
[1mRunning axe-core 4.10.3 in chrome-headless[22m
[1m[22m
[1mTesting [4m[34mhttp://127.0.0.1:3000/settings/tenants?theme=dark[39m[24m[22m ... please wait, this may take a minute.
Waiting for 500 milliseconds after page loads...

[31m[1m  Violation of "region" with 1 occurrences![22m[39m
[31m[1m[22m[39m    Ensure all page content is contained by landmarks. Correct invalid elements at:
     - body > div:nth-child(2)
    For details, see: [4m[34mhttps://dequeuniversity.com/rules/axe/4.10/region[39m[24m
[31m[1m[22m[39m
[31m[1m1 Accessibility issues detected.[22m[39m
[1mTesting complete of 1 pages[22m
[1m[22m
[3mPlease note that only 20% to 50% of all accessibility issues can automatically be detected. [23m
[3mManual testing is always required. For more information see:[23m
[3m[4m[34mhttps://dequeuniversity.com/class/testing[39m[24m[23m
[3m[23m
AXE OK http://127.0.0.1:3000/settings/tenants?theme=dark
âœ… a11y OK
Stopping ephemeral server (pid=30815)
âœ… Accessibility (dark)

## Performance budget


> nexa-erp@ ui:perf /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP
> bash scripts/ui/perf.sh

perf OK
âœ… Performance budget

## Security tests


> nexa-erp@ test:security /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP
> bash scripts/security/test-security.sh

security scan OK
âœ… Security tests

## Coverage thresholds


> nexa-erp@ cov /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP
> vitest run --coverage --reporter=dot


 RUN  v3.2.4 /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP
      Coverage enabled with v8

Â·stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > masks sensitive fields and responds ok
[assistant_audit] {
  ip: [32m'loca****'[39m,
  session: [32m'loca****'[39m,
  route: [32m'/dashboard'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > rate limits excessive calls
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'1.xxx.xxx.xxx'[39m,
  route: [32m'/x'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > enforces token budget per session
[assistant_audit] { ip: [32m'1.xxx.xxx.xxx'[39m, session: [32m's1'[39m, route: [32m'/x'[39m, hasMasked: [33mtrue[39m }

stdout | apps/web/src/app/api/assistant/route.test.ts > assistant route > enforces token budget per session
[assistant_audit] { ip: [32m'1.xxx.xxx.xxx'[39m, session: [32m's1'[39m, route: [32m'/x'[39m, hasMasked: [33mtrue[39m }

stdout | apps/web/src/app/api/integrations/shopify/status/route.test.ts > shopify status > responds 200 with JSON
[assistant_audit] {
  route: [32m'/api/integrations/shopify/status'[39m,
  session: [32m'heal****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/orchestration/runs/route.test.ts > orchestration runs API > lists queued runs
[assistant_audit] {
  route: [32m'/api/orchestration/runs'[39m,
  count: [33m1[39m,
  total: [33m1[39m,
  status: [32m'all'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/orchestration/runs/route.test.ts > orchestration runs API > completes a run via POST
[assistant_audit] {
  route: [32m'/api/orchestration/runs'[39m,
  action: [32m'complete'[39m,
  id: [32m'orc_r8t3a531wcj'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/orchestration/runs/route.test.ts > orchestration runs API > completes a run via POST
[assistant_audit] {
  route: [32m'/api/orchestration/runs'[39m,
  count: [33m1[39m,
  total: [33m1[39m,
  status: [32m'completed'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·Â·Â·Â·stdout | apps/web/src/app/api/integrations/edi/status/route.test.ts > edi status > responds 200 with JSON
[assistant_audit] {
  route: [32m'/api/integrations/edi/status'[39m,
  session: [32m'heal****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/entities/route.test.ts > entities API > lists entities
[assistant_audit] {
  route: [32m'/api/entities'[39m,
  action: [32m'list'[39m,
  session: [32m'enti****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/entities/route.test.ts > entities API > creates an entity with valid payload
[assistant_audit] {
  route: [32m'/api/entities'[39m,
  action: [32m'create'[39m,
  session: [32m'enti****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·Â·Â·stdout | apps/web/src/app/api/orchestration/start/route.test.ts > orchestration start DTO > enqueues on POST and returns orchestration id
[assistant_audit] {
  ip: [32m'1.xxx.xxx.xxx'[39m,
  session: [32m'sess****-1'[39m,
  route: [32m'/api/orchestration/start'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/orchestration/start/route.test.ts > orchestration start DTO > rejects invalid payload with 400
[assistant_audit] {
  ip: [32m'loca****'[39m,
  session: [32m'loca****'[39m,
  route: [32m'/api/orchestration/start'[39m,
  validation: [32m'fail'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·stdout | apps/web/src/app/api/integrations/health/route.test.ts > integrations health DTO > honors enable flags env
[assistant_audit] {
  route: [32m'/api/integrations/health'[39m,
  session: [32m'heal****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·stdout | apps/web/src/app/api/orchestration/queue/route.test.ts > orchestration queue API > returns queued count
[assistant_audit] { route: [32m'/api/orchestration/queue'[39m, queued: [33m1[39m, hasMasked: [33mtrue[39m }

stdout | apps/web/src/app/api/integrations/hmrc-rti/status/route.test.ts > hmrc-rti status > responds 200 with JSON
[assistant_audit] {
  route: [32m'/api/integrations/hmrc-rti/status'[39m,
  session: [32m'heal****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/integrations/open-banking/status/route.test.ts > open-banking status > responds 200 with JSON
[assistant_audit] {
  route: [32m'/api/integrations/open-banking/status'[39m,
  session: [32m'heal****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/integrations/ebay/status/route.test.ts > ebay status > responds 200 with JSON
[assistant_audit] {
  route: [32m'/api/integrations/ebay/status'[39m,
  session: [32m'heal****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·stdout | apps/web/src/__tests__/connectors.mock.test.ts > mockConnectorService > connects and disconnects
[assistant_audit] {
  route: [32m'/settings/connectors'[39m,
  action: [32m'connect'[39m,
  key: [32m'google'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/__tests__/connectors.mock.test.ts > mockConnectorService > connects and disconnects
[assistant_audit] {
  route: [32m'/settings/connectors'[39m,
  action: [32m'disconnect'[39m,
  key: [32m'google'[39m,
  hasMasked: [33mtrue[39m
}

stdout | apps/web/src/app/api/enterprise/demo/route.test.ts > enterprise demo route > returns counts from demo file
[assistant_audit] {
  route: [32m'/api/enterprise/demo'[39m,
  session: [32m'demo'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·Â·Â·Â·Â·Â·stdout | apps/web/src/app/api/integrations/amazon/status/route.test.ts > amazon status > responds 200 with JSON
[assistant_audit] {
  route: [32m'/api/integrations/amazon/status'[39m,
  session: [32m'heal****'[39m,
  ip: [32m'0.xxx.xxx.xxx'[39m,
  hasMasked: [33mtrue[39m
}

Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·

 Test Files  26 passed (26)
      Tests  63 passed (63)
   Start at  21:47:13
   Duration  1.87s (transform 347ms, setup 0ms, collect 1.64s, tests 164ms, environment 4ms, prepare 3.39s)

 % Coverage report from v8
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |   13.25 |    45.18 |    26.7 |   13.25 |                   
 Nexa ERP          |       0 |        0 |       0 |       0 |                   
  ...ind.config.js |       0 |        0 |       0 |       0 | 1-30              
 .../src/analytics |       0 |        0 |       0 |       0 |                   
  nlq.service.js   |       0 |        0 |       0 |       0 | 1-10              
  ...er.service.js |       0 |        0 |       0 |       0 | 1-8               
 ...pi/src/billing |       0 |        0 |       0 |       0 |                   
  ...ng.service.js |       0 |        0 |       0 |       0 | 1-5               
 ...ps/api/src/clm |       0 |        0 |       0 |       0 |                   
  ...ts.service.js |       0 |        0 |       0 |       0 | 1-7               
 ...ps/api/src/crm |       0 |        0 |       0 |       0 |                   
  cpq.service.js   |       0 |        0 |       0 |       0 | 1-3               
 .../src/devportal |       0 |        0 |       0 |       0 |                   
  ...al.service.js |       0 |        0 |       0 |       0 | 1-14              
 ...c/fieldservice |       0 |        0 |       0 |       0 |                   
  ...st.service.js |       0 |        0 |       0 |       0 | 1-5               
 ...rc/marketplace |       0 |        0 |       0 |       0 |                   
  ...st.service.js |       0 |        0 |       0 |       0 | 1-17              
  ...ls.service.js |       0 |        0 |       0 |       0 | 1-3               
  ...nt.service.js |       0 |        0 |       0 |       0 | 1-5               
 ...ps/api/src/mfg |       0 |        0 |       0 |       0 |                   
  bom.service.js   |       0 |        0 |       0 |       0 | 1-19              
  ...gy.service.js |       0 |        0 |       0 |       0 | 1-10              
  mrp.service.js   |       0 |        0 |       0 |       0 | 1-15              
  wo.service.js    |       0 |        0 |       0 |       0 | 1-11              
 ...src/monitoring |       0 |        0 |       0 |       0 |                   
  ...ng.service.js |       0 |        0 |       0 |       0 | 1-6               
 ...i/src/projects |       0 |        0 |       0 |       0 |                   
  ...ng.service.js |       0 |        0 |       0 |       0 | 1-3               
 ...pi/src/quality |       0 |        0 |       0 |       0 |                   
  ...ty.service.js |       0 |        0 |       0 |       0 | 1-8               
 ...i/src/treasury |       0 |        0 |       0 |       0 |                   
  ...ry.service.js |       0 |        0 |       0 |       0 | 1-4               
 ...ps/api/src/wms |       0 |        0 |       0 |       0 |                   
  ...ry.service.js |       0 |        0 |       0 |       0 | 1-20              
 ...RP/apps/mobile |       0 |        0 |       0 |       0 |                   
  App.tsx          |       0 |        0 |       0 |       0 | 1-76              
  jest.setup.js    |       0 |        0 |       0 |       0 | 1-5               
 ...pps/mobile/src |       0 |        0 |       0 |       0 |                   
  offline.ts       |       0 |        0 |       0 |       0 | 1-10              
  push.ts          |       0 |        0 |       0 |       0 | 1-13              
  registry.ts      |       0 |        0 |       0 |       0 | 1-14              
 Nexa ERP/apps/web |       0 |        0 |       0 |       0 |                   
  next.config.ts   |       0 |        0 |       0 |       0 | 1-7               
 ...P/apps/web/lib |       0 |        0 |       0 |       0 |                   
  mask.ts          |       0 |        0 |       0 |       0 | 1-7               
 ...s/api/ai/audit |       0 |        0 |       0 |       0 |                   
  logs.ts          |       0 |        0 |       0 |       0 | 1-11              
 .../auth/callback |       0 |        0 |       0 |       0 |                   
  azure-ad.ts      |       0 |        0 |       0 |       0 | 1-11              
  google.ts        |       0 |        0 |       0 |       0 | 1-10              
 ...s/api/hmrc/vat |       0 |        0 |       0 |       0 |                   
  ping.ts          |       0 |        0 |       0 |       0 | 1-10              
 ...ges/api/stripe |       0 |        0 |       0 |       0 |                   
  webhook.ts       |       0 |        0 |       0 |       0 | 1-8               
 ...ges/api/twilio |       0 |        0 |       0 |       0 |                   
  ping.ts          |       0 |        0 |       0 |       0 | 1-7               
 ...ps/web/src/app |       0 |        0 |       0 |       0 |                   
  fonts.ts         |       0 |        0 |       0 |       0 | 1-13              
  layout.tsx       |       0 |        0 |       0 |       0 | 1-26              
  page.tsx         |       0 |        0 |       0 |       0 | 1-22              
 .../src/app/(app) |       0 |        0 |       0 |       0 |                   
  layout.tsx       |       0 |        0 |       0 |       0 | 1-18              
 .../ai/audit-logs |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 .../(app)/ai/runs |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-47              
 ...)/ai/workflows |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 ...orkflows/start |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-8               
 .../(app)/billing |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-31              
 ...lling/invoices |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-10              
 .../billing/plans |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-10              
 .../subscriptions |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-10              
 ...m/integrations |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-24              
 ...app)/dashboard |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-10              
 ...)/dev/api-keys |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-10              
 ...p)/dev/openapi |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-10              
 ...)/dev/webhooks |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-10              
 .../consolidation |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-30              
 ...prise/entities |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 ...e/intercompany |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-27              
 ...app/(app)/help |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-10              
 ...y/construction |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 ...stry/logistics |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 .../manufacturing |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 ...ional-services |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 ...ndustry/retail |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 ...stry/saas-tech |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 ...rations/amazon |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 ...egrations/ebay |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 ...tegrations/edi |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 ...rations/health |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 ...tions/hmrc-rti |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 ...s/open-banking |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 ...ations/shopify |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 ...ations/toggles |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-9               
 ...uring/advanced |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-11              
 ...ufacturing/aps |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-17              
 ...uring/capacity |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-17              
 ...ufacturing/mrp |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-17              
 ...p)/marketplace |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-20              
 ...toring/backups |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-10              
 ...itoring/health |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-10              
 ...itoring/status |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-10              
 ...)/open-banking |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-49              
 .../(app)/payroll |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-57              
 ...ngs/connectors |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-42              
 ...tings/entities |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-43              
 ...tings/security |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-10              
 ...ttings/tenants |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-10              
 ...p)/tax/mtd-vat |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-47              
 ...3pl-connectors |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-18              
 ...)/wms/advanced |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-14              
 .../(app)/wms/asn |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-24              
 ...s/wave-picking |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-17              
 ...c/app/(public) |       0 |        0 |       0 |       0 |                   
  layout.tsx       |       0 |        0 |       0 |       0 | 1-12              
 ...orgot-password |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-17              
 ...(public)/login |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-21              
 .../api/assistant |   94.73 |       90 |     100 |   94.73 |                   
  route.ts         |   94.73 |       90 |     100 |   94.73 | 36-37             
 ...nterprise/demo |     100 |     62.5 |     100 |     100 |                   
  route.ts         |     100 |     62.5 |     100 |     100 | 12-14             
 ...p/api/entities |     100 |    66.66 |     100 |     100 |                   
  route.ts         |     100 |    66.66 |     100 |     100 | 34,41             
 ...pp/api/healthz |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 .../amazon/status |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...ns/ebay/status |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...ons/edi/status |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...rations/health |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...mrc-rti/status |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...banking/status |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...shopify/status |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...stration/queue |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...estration/runs |   92.59 |       90 |     100 |   92.59 |                   
  route.ts         |   92.59 |       90 |     100 |   92.59 | 29-30             
 ...stration/start |   88.46 |    88.88 |     100 |   88.46 |                   
  route.ts         |   88.46 |    88.88 |     100 |   88.46 | 25-27             
 ...app/api/readyz |     100 |      100 |     100 |     100 |                   
  route.ts         |     100 |      100 |     100 |     100 |                   
 ...urchase-orders |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-17              
 .../app/themetest |       0 |        0 |       0 |       0 |                   
  page.tsx         |       0 |        0 |       0 |       0 | 1-14              
 ...src/components |       0 |        0 |       0 |       0 |                   
  AiLoader.tsx     |       0 |        0 |       0 |       0 | 1-15              
  Header.tsx       |       0 |        0 |       0 |       0 | 1-23              
  Nav.tsx          |       0 |        0 |       0 |       0 | 1-38              
  ThemeToggle.tsx  |       0 |        0 |       0 |       0 | 1-15              
 .../components/ai |       0 |        0 |       0 |       0 |                   
  NexaAIBar.tsx    |       0 |        0 |       0 |       0 | 1-19              
  ...ionsPanel.tsx |       0 |        0 |       0 |       0 | 1-15              
 ...mponents/audit |       0 |        0 |       0 |       0 |                   
  ...dAuditTab.tsx |       0 |        0 |       0 |       0 | 1-42              
 .../components/ui |       0 |        0 |       0 |       0 |                   
  ...SoonBadge.tsx |       0 |        0 |       0 |       0 | 1-15              
 ...web/src/config |       0 |        0 |       0 |       0 |                   
  flags.ts         |       0 |        0 |       0 |       0 | 1-10              
  modules.ts       |       0 |        0 |       0 |       0 | 1-152             
 ...web/src/lib/ai |    11.9 |     62.5 |      50 |    11.9 |                   
  AIProvider.tsx   |       0 |        0 |       0 |       0 | 1-68              
  governance.ts    |     100 |    83.33 |     100 |     100 | 8                 
  useAI.ts         |       0 |        0 |       0 |       0 | 1-6               
 ...lib/connectors |     100 |      100 |     100 |     100 |                   
  ...torService.ts |     100 |      100 |     100 |     100 |                   
 ...eb/src/lib/log |     100 |      100 |     100 |     100 |                   
  mask.ts          |     100 |      100 |     100 |     100 |                   
 .../orchestration |     100 |      100 |     100 |     100 |                   
  runner.ts        |     100 |      100 |     100 |     100 |                   
 .../web/src/types |     100 |      100 |     100 |     100 |                   
  phase6.ts        |     100 |      100 |     100 |     100 |                   
 ...kages/core/src |     100 |    88.88 |     100 |     100 |                   
  index.js         |     100 |    88.88 |     100 |     100 | 14                
 ...re/src/finance |   96.66 |       75 |     100 |   96.66 |                   
  bankImport.js    |     100 |    73.33 |     100 |     100 | 7,16-17,20        
  ...nalService.js |   94.44 |    76.19 |     100 |   94.44 | 15-16             
 ...re/src/payroll |      80 |    47.05 |   66.66 |      80 |                   
  payrollEngine.js |      80 |    47.05 |   66.66 |      80 | ...-8,10-12,27-29 
 ...ages/jobs/dist |       0 |        0 |       0 |       0 |                   
  index.js         |       0 |        0 |       0 |       0 | 1-55              
 ...kages/jobs/src |       0 |        0 |       0 |       0 |                   
  index.ts         |       0 |        0 |       0 |       0 | 1-59              
 .../registry/dist |       0 |        0 |       0 |       0 |                   
  connectors.js    |       0 |        0 |       0 |       0 | 1-24              
  index.js         |       0 |        0 |       0 |       0 | 1-2               
  modules.js       |       0 |        0 |       0 |       0 | 1-12              
 ...s/registry/src |       0 |        0 |       0 |       0 |                   
  connectors.ts    |       0 |        0 |       0 |       0 | 1-32              
  index.ts         |       0 |        0 |       0 |       0 | 1-2               
  modules.ts       |       0 |        0 |       0 |       0 | 1-23              
 .../sdk-nexa/dist |      20 |      100 |       0 |      20 |                   
  index.js         |      20 |      100 |       0 |      20 | 3-6,8-19          
 ...s/sdk-nexa/src |     100 |    83.33 |     100 |     100 |                   
  index.ts         |     100 |    83.33 |     100 |     100 | 8                 
 Nexa ERP/scripts  |       0 |        0 |       0 |       0 |                   
  gate-phase0.cjs  |       0 |        0 |       0 |       0 | 1-20              
  gate-phase1.cjs  |       0 |        0 |       0 |       0 | 1-39              
  healthcheck.cjs  |       0 |        0 |       0 |       0 | 1-43              
  ...o-6-audit.cjs |       0 |        0 |       0 |       0 | 1-34              
  rename-audit.cjs |       0 |        0 |       0 |       0 | 1-46              
  ...-gap-scan.cjs |       0 |        0 |       0 |       0 | 1-35              
 ...ERP/scripts/ci |       0 |        0 |       0 |       0 |                   
  mask_check.cjs   |       0 |        0 |       0 |       0 | 1-17              
 ...P/scripts/docs |       0 |        0 |       0 |       0 |                   
  ...sh-openapi.js |       0 |        0 |       0 |       0 | 1-30              
 .../scripts/gates |       0 |        0 |       0 |       0 |                   
  phase2.cjs       |       0 |        0 |       0 |       0 | 1-64              
  phase3.cjs       |       0 |        0 |       0 |       0 | 1-43              
  phase5.cjs       |       0 |        0 |       0 |       0 | 1-69              
  phase6.cjs       |       0 |        0 |       0 |       0 | 1-70              
 ...scripts/phase6 |       0 |        0 |       0 |       0 |                   
  acceptance.cjs   |       0 |        0 |       0 |       0 | 1-140             
 ...cripts/reports |       0 |        0 |       0 |       0 |                   
  ...t-summary.cjs |       0 |        0 |       0 |       0 | 1-8               
  ...it-summary.ts |       0 |        0 |       0 |       0 | 1-20              
 .../scripts/seeds |       0 |        0 |       0 |       0 |                   
  seed-phase4.ts   |       0 |        0 |       0 |       0 | 1-133             
  seed-phase6.ts   |       0 |        0 |       0 |       0 | 1-47              
  seed-phaseA.ts   |       0 |        0 |       0 |       0 | 1-89              
  seed-stubs.ts    |       0 |        0 |       0 |       0 | 1-17              
 .../scripts/tests |       0 |        0 |       0 |       0 |                   
  ...en-invoice.js |       0 |        0 |       0 |       0 | 1-13              
  golden-siem.js   |       0 |        0 |       0 |       0 | 1-14              
 ...ERP/scripts/ui |       0 |        0 |       0 |       0 |                   
  nav-lint.js      |       0 |        0 |       0 |       0 | 1-19              
  run-axe.cjs      |       0 |        0 |       0 |       0 | 1-20              
-------------------|---------|----------|---------|---------|-------------------
âœ… Coverage thresholds

## Masked smoke suite


> nexa-erp@ smoke:all /Users/waheedraja/Desktop/Business Opportunities/Nexa ERP
> bash -lc "set -euo pipefail; mkdir -p reports; pkill -f 'apps/web.*next' >/dev/null 2>&1 || true; echo '== Nexa ERP Smoke Test Suite =='; pnpm --filter web dev >/tmp/nexa-dev.log 2>&1 & DEV_PID=$!; sleep 8; echo '-- Running healthz check --'; curl -s http://localhost:3000/api/healthz || true; echo; echo '-- Running masking check --'; node scripts/ci/mask_check.cjs > reports/mask-check-$(date +%Y%m%d%H%M%S).log || true; echo; echo '-- Running provider smoke mocks --'; curl -s 'http://localhost:3000/api/auth/callback/google?code=fake' || true; echo; curl -s 'http://localhost:3000/api/auth/callback/azure-ad?code=fake' || true; echo; curl -s http://localhost:3000/api/ai/audit/logs || true; echo; curl -s http://localhost:3000/api/twilio/ping || true; echo; curl -s http://localhost:3000/api/stripe/webhook || true; echo; curl -s http://localhost:3000/api/hmrc/vat/ping || true; echo; echo '== Nexa ERP Smoke Suite Finished =='; kill $DEV_PID >/dev/null 2>&1 || true"

== Nexa ERP Smoke Test Suite ==
-- Running healthz check --
{"status":"ok"}
-- Running masking check --

-- Running provider smoke mocks --
{"ok":true,"route":"google-callback","mock":true}
{"ok":true,"route":"azure-ad-callback","mock":true}
{"ok":true,"mock":true,"openai_present":true,"example_log":{"key":"sk-p***"}}
{"ok":true,"provider":"twilio","mock":true}
{"ok":true,"event":"mock","mock":true}
{"ok":true,"provider":"hmrc-vat","env":"sandbox","mock":true}
== Nexa ERP Smoke Suite Finished ==
âœ… Masked smoke suite

## Environment Matrix

=== Environment Matrix Tue Sep  2 21:47:24 BST 2025 ===
Stripe: STRIPE_SECRET_KEY                âœ…
Open Banking: OPEN_BANKING_CLIENT_ID     âœ…
Open Banking: OPEN_BANKING_CLIENT_SECRET âœ…
Open Banking: OPEN_BANKING_ENV=sandbox   âœ…
HMRC: HMRC_CLIENT_ID                     âœ…
HMRC: HMRC_CLIENT_SECRET                 âœ…
HMRC: HMRC_ENVIRONMENT=sandbox           âœ…
HMRC: HMRC_VRN                           âœ…
Twilio: TWILIO_ACCOUNT_SID               âœ…
Twilio: TWILIO_AUTH_TOKEN                âœ…
=== End env matrix ===
LOG_PATH:reports/phaseA-env-20250902214724.log
MISSING_KEYS:

## Notes
- Stripe webhook secret (STRIPE_WEBHOOK_SECRET) is added in Stage C.

RESULT: PASS
